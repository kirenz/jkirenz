<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.3.1">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Jan Kirenz">

  
  
  
    
  
  <meta name="description" content="Social Network Analysis Jan Kirenz
#conda install -c anaconda networkx import networkx as nx import matplotlib.pyplot as plt %matplotlib inline import warnings; warnings.simplefilter(&#39;ignore&#39;)  Social Network Analysis (SNA) Social network analysis (SNA) with NetworkX, a Python library for the study of the structure, dynamics, and functions of complex networks.
Each network consists of:
 Nodes: The individuals whose network we are building. Edges: The connection between the nodes. It represents a relationship between the nodes of the network.">

  
  <link rel="alternate" hreflang="en-us" href="/post/network_analysis/network_analysis/">

  


  

  
  
  
  <meta name="theme-color" content="#E13D3D">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/paraiso-light.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/paraiso-light.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Arapey:400,400i|Karla:400,700|Roboto+Mono|Open Sans:300">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.1322fc49e20b88c93e5b9cdb13456289.css">

  
    
    
    
    
      
    
    
    
    <link rel="stylesheet" href="/css/academic.8fa6fab8892f3fb614ebe2b828140a5f.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-62543454-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/network_analysis/network_analysis/">

  
  
  
  
    
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Jan Kirenz">
  <meta property="og:url" content="/post/network_analysis/network_analysis/">
  <meta property="og:title" content=" | Jan Kirenz">
  <meta property="og:description" content="Social Network Analysis Jan Kirenz
#conda install -c anaconda networkx import networkx as nx import matplotlib.pyplot as plt %matplotlib inline import warnings; warnings.simplefilter(&#39;ignore&#39;)  Social Network Analysis (SNA) Social network analysis (SNA) with NetworkX, a Python library for the study of the structure, dynamics, and functions of complex networks.
Each network consists of:
 Nodes: The individuals whose network we are building. Edges: The connection between the nodes. It represents a relationship between the nodes of the network."><meta property="og:image" content="/img/avatar.jpg">
  <meta property="og:locale" content="en-us">
  
  
  
  

  

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
  window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#E13D3D",
          "text": "#ffffff"
        },
        "button": {
          "background": "#ffffff",
          "text": "#E13D3D"
        }
      },
      "theme": "classic",
      "content": {
        "message": "This website uses cookies to ensure you get the best experience on our website.",
        "dismiss": "Got it!",
        "link": "Learn more",
        "href": "https://cookies.insites.com"
      }
    })});
</script>



  





  <title> | Jan Kirenz</title>

</head>


<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Jan Kirenz</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/post"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/teaching"><span>Teaching</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/projects"><span>Resources</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name"></h1>

  

  
    



<meta content="" itemprop="datePublished">
<meta content="" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Jan 1, 0001</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    9 min read
  </span>
  

  
  

  
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/network_analysis/network_analysis/&amp;text=" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/network_analysis/network_analysis/&amp;t=" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=&amp;body=/post/network_analysis/network_analysis/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/network_analysis/network_analysis/&amp;title=" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=%20/post/network_analysis/network_analysis/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/network_analysis/network_analysis/&amp;title=" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>


  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<p><strong>Social Network Analysis</strong> <br />
Jan Kirenz</p>

<pre><code class="language-python">#conda install -c anaconda networkx
import networkx as nx
import matplotlib.pyplot as plt
%matplotlib inline
import warnings; warnings.simplefilter('ignore')
</code></pre>

<h2 id="social-network-analysis-sna">Social Network Analysis (SNA)</h2>

<p>Social network analysis (SNA) with <a href="(https://networkx.github.io/documentation/stable/)" target="_blank">NetworkX</a>, a Python library for the study of the structure, dynamics, and functions of complex networks.</p>

<p>Each network consists of:</p>

<ul>
<li>Nodes: The individuals whose network we are building.</li>
<li>Edges: The connection between the nodes. It represents a relationship between the nodes of the network.</li>
</ul>

<h3 id="symmetric-networks-undirected">Symmetric Networks (undirected)</h3>

<p>The first network that we create is a group of people who work together. This is called a <strong>symmetric network</strong> because the relationship &ldquo;working together&rdquo; is a symmetric relationship: If A is related to B, B is also related to A.</p>

<pre><code class="language-python">G_symmetric = nx.Graph()

G_symmetric.add_edge('Steven',  'Laura') 
G_symmetric.add_edge('Steven',  'Marc')
G_symmetric.add_edge('Steven',  'John')
G_symmetric.add_edge('Steven',  'Michelle')
G_symmetric.add_edge('Laura',   'Michelle')
G_symmetric.add_edge('Michelle','Marc')
G_symmetric.add_edge('George',  'John')
G_symmetric.add_edge('George',  'Steven')
</code></pre>

<pre><code class="language-python">print(nx.info(G_symmetric))
</code></pre>

<pre><code>Name: 
Type: Graph
Number of nodes: 6
Number of edges: 8
Average degree:   2.6667
</code></pre>

<p>Now we visualize the network with the <code>draw_networkx()</code> function.</p>

<pre><code class="language-python">plt.figure(figsize=(5,5)) 
nx.draw_networkx(G_symmetric);
</code></pre>

<p><img src="output_8_0.png" alt="png" /></p>

<h3 id="asymmetric-networks-directed">Asymmetric Networks (directed)</h3>

<p>What if the relationship between nodes is &lsquo;child of&rsquo;, then the relationship is no longer symmetric. This is the case if someone follows someone else on Twitter. Or in the case of hyperlinks.</p>

<p>If A is the child of B, then B is not a child of A. Such a network where the relationship is <strong>asymmetric</strong> (A is related to B, does not necessarily means that B is associated with A) is called an Asymmetric network.</p>

<p>We can build the asymmetric network in NetworkX using <code>DiGraph</code> method, which is short of <strong>Directional Graph</strong>.</p>

<pre><code class="language-python">G_asymmetric = nx.DiGraph()
G_asymmetric.add_edge('A','B')
G_asymmetric.add_edge('A','D')
G_asymmetric.add_edge('C','A')
G_asymmetric.add_edge('D','E')
</code></pre>

<p>To make sure that all nodes are distinctly visible in the network, use the <code>spring_layout()</code> function, followed by the <code>draw_networkx()</code> function.</p>

<pre><code class="language-python">nx.spring_layout(G_asymmetric)
nx.draw_networkx(G_asymmetric)
</code></pre>

<p><img src="output_12_0.png" alt="png" /></p>

<h3 id="weighted-networks">Weighted Networks</h3>

<p>Till now we had networks without weights, but it is possible that networks are made with weights, for example, if in our initial network we consider the number of projects done together as a weight, we will get a weighted Network.</p>

<p>Let us make one again of the employees, but this time we add weight to the network, each edge has a weight signifying the number of projects they have done together.</p>

<pre><code class="language-python">G_weighted = nx.Graph()

G_weighted.add_edge('Steven',  'Laura',   weight=25) 
G_weighted.add_edge('Steven',  'Marc',    weight=8) 
G_weighted.add_edge('Steven',  'John',    weight=11) 
G_weighted.add_edge('Steven',  'Michelle',weight=1) 
G_weighted.add_edge('Laura',   'Michelle',weight=1) 
G_weighted.add_edge('Michelle','Marc',    weight=1) 
G_weighted.add_edge('George',  'John',    weight=8) 
G_weighted.add_edge('George',  'Steven',  weight=4) 
</code></pre>

<pre><code class="language-python">elarge = [(u, v) for (u, v, d) in G_weighted.edges(data=True) if d['weight'] &gt; 8]
esmall = [(u, v) for (u, v, d) in G_weighted.edges(data=True) if d['weight'] &lt;= 8]

pos = nx.circular_layout(G_weighted)  # positions for all nodes

# nodes
nx.draw_networkx_nodes(G_weighted, pos, node_size=700)

# edges
nx.draw_networkx_edges(G_weighted, pos, edgelist=elarge,width=6)
nx.draw_networkx_edges(G_weighted, pos, edgelist=esmall,width=6, alpha=0.5, edge_color='b', style='dashed')

# labels
nx.draw_networkx_labels(G_weighted, pos, font_size=20, font_family='sans-serif')

plt.axis('off')
plt.show();

</code></pre>

<p><img src="output_15_0.png" alt="png" /></p>

<h2 id="clustering-coefficient">Clustering coefficient</h2>

<p>It is observed that people who share connections in a social network tend to form associations. In other words, there is a tendency in a social network to form clusters.</p>

<p>We can determine the clusters of a node, <strong>local clustering coefficient</strong>, which is the fraction of pairs of the node&rsquo;s friends (that is connections) that are connected with each other.</p>

<p>To determine the local clustering coefficient, we make use of <code>nx.clustering(Graph, Node)</code> function.</p>

<p>In the symmetric employee-network, you will find that Michelle has a local clustering coefficient of 1 and Laura  has a local clustering coefficient of 0.67.</p>

<p>The average clustering coefficient (sum of all the local clustering coefficients divided by the number of nodes) for the symmetric employee-network is 0.867.</p>

<pre><code class="language-python">nx.clustering(G_symmetric,'Michelle')
</code></pre>

<pre><code>0.6666666666666666
</code></pre>

<pre><code class="language-python">nx.clustering(G_symmetric,'Laura') 
</code></pre>

<pre><code>1.0
</code></pre>

<pre><code class="language-python">nx.average_clustering(G_symmetric)
</code></pre>

<pre><code>0.8277777777777778
</code></pre>

<h2 id="network-distance-measures">Network Distance Measures</h2>

<h3 id="degree">Degree</h3>

<p>Degree of a node defines the number of connections a node has. NetworkX has the function <code>degree</code> which we can use to determine the degree of a node in the network.</p>

<pre><code class="language-python">nx.degree(G_symmetric, 'Michelle')
</code></pre>

<pre><code>3
</code></pre>

<p>This will return a value of 3, as Michelle has worked with three employees in the network.</p>

<h3 id="distance">Distance</h3>

<p>We can also determine the shortest path between two nodes and its length in NetworkX using <code>nx.shortest_path(Graph, Node1, Node2)</code> and <code>nx.shortest_path_length(Graph, Node1, Node2)</code>
 functions respectively.</p>

<pre><code class="language-python">nx.shortest_path(G_symmetric, 'Michelle', 'John')
</code></pre>

<pre><code>['Michelle', 'Steven', 'John']
</code></pre>

<pre><code class="language-python">nx.shortest_path_length(G_symmetric, 'Michelle', 'John')
</code></pre>

<pre><code>2
</code></pre>

<h3 id="breadth-first-search">Breadth-first search</h3>

<p>We can find the distance of a node from every other node in the network using breadth-first search algorithm, starting from that node. networkX provides the function bfs_tree to do it.</p>

<p>And so if you use <code>M = nx.bfs_tree(G_symmetric, 'Michelle')</code> and now draw this tree, we will get a network structure telling how we can reach other nodes of the network starting from Michelle .</p>

<pre><code class="language-python">S = nx.bfs_tree(G_symmetric, 'Steven')
nx.draw_networkx(S)
</code></pre>

<p><img src="output_29_0.png" alt="png" /></p>

<pre><code class="language-python">M = nx.bfs_tree(G_symmetric, 'Michelle')
nx.draw_networkx(M)
</code></pre>

<p><img src="output_30_0.png" alt="png" /></p>

<h3 id="eccentricity">Eccentricity</h3>

<p>Eccentricity of a node A is defined as the largest distance between A and all other nodes.</p>

<p>It can be found using <code>nx.eccentricity()</code> function. In the symmetric employee-network, Michelle has an eccentricity of 2, and Steven has an eccentricity of 1 (he is connected to every other node).</p>

<pre><code class="language-python">nx.eccentricity(G_symmetric,'Michelle')
</code></pre>

<pre><code>2
</code></pre>

<pre><code class="language-python">nx.eccentricity(G_symmetric,'Steven')
</code></pre>

<pre><code>1
</code></pre>

<h2 id="centrality-measures">Centrality measures</h2>

<p>Above we learned some of the network distance measures and they are useful in knowing how the information will spread through the network.</p>

<p>In this section, we will learn how to find the most important nodes (individuals) in the network. These parameters are called as <strong>centrality measures</strong>. Centrality Measures can help us in identifying popularity, most liked, and biggest influencers within the network.</p>

<h3 id="degree-centrality">Degree Centrality</h3>

<p>The people most popular or more liked usually are the ones who have more friends.</p>

<p>Degree centrality is a measure of the number of connections a particular node has in the network. It is based on the fact that important nodes have many connections. NetworkX has the function <code>degree_centrality()</code> to calculate the degree centrality of all the nodes of a network.</p>

<pre><code class="language-python">nx.degree_centrality(G_symmetric)
</code></pre>

<pre><code>{'Steven': 1.0,
 'Laura': 0.4,
 'Marc': 0.4,
 'John': 0.4,
 'Michelle': 0.6000000000000001,
 'George': 0.4}
</code></pre>

<h3 id="eigenvector-centrality">Eigenvector Centrality</h3>

<p>It is not just how many individuals one is connected too, but the type of people one is connected with that can decide the importance of a node.</p>

<p>Eigenvector centrality is a measure of how import a node is by accounting for the fact of how well it is connected to other important nodes.</p>

<p>We can use the <code>eigenvector_centrality()</code> function of NetworkX to calculate eigenvector centrality of all the nodes in a network.</p>

<p>The Google&rsquo;s Pagerank algorithm is a variant of Eigenvector centrality algorithm.</p>

<pre><code class="language-python">nx.eigenvector_centrality(G_symmetric) 
</code></pre>

<pre><code>{'Steven': 0.6006686104947806,
 'Laura': 0.3545677660798074,
 'Marc': 0.3545677660798074,
 'John': 0.30844592433424667,
 'Michelle': 0.4443904166426225,
 'George': 0.30844592433424667}
</code></pre>

<h3 id="closeness-centrality">Closeness Centrality</h3>

<p>Closeness Centrality is a measure where each node’s importance is determined by <strong>closeness to all other nodes</strong>.</p>

<pre><code class="language-python">nx.closeness_centrality(G_symmetric)
</code></pre>

<pre><code>{'Steven': 1.0,
 'Laura': 0.625,
 'Marc': 0.625,
 'John': 0.625,
 'Michelle': 0.7142857142857143,
 'George': 0.625}
</code></pre>

<h3 id="betweenness-centrality">Betweenness Centrality</h3>

<p>The Betweenness Centrality is the centrality of control.</p>

<p>It represents the frequency at which a point occurs on the <strong>shortest paths</strong> that connected pair of points. It quantifies how many times a particular node comes in the shortest chosen path between two other nodes.</p>

<p>The nodes with high betweenness centrality play a significant role in the communication/information flow within the network.</p>

<p>The nodes with high betweenness centrality can have a strategic control and influence on others. An individual at such a strategic position can influence the whole group, by either withholding or coloring the information in transmission.</p>

<p>Networkx has the function <code>betweenness_centrality()</code> to measure it for the network. It has options to select if we want betweenness values to be normalized or not, weights to be included in centrality calculation or not, and to include the endpoints in the shortest path counts or not.</p>

<pre><code class="language-python">nx.betweenness_centrality(G_symmetric)
</code></pre>

<pre><code>{'Steven': 0.65,
 'Laura': 0.0,
 'Marc': 0.0,
 'John': 0.0,
 'Michelle': 0.05,
 'George': 0.0}
</code></pre>

<pre><code class="language-python">pos = nx.spring_layout(G_symmetric)
betCent = nx.betweenness_centrality(G_symmetric, normalized=True, endpoints=True)
node_color = [20000.0 * G_symmetric.degree(v) for v in G_symmetric]
node_size =  [v * 10000 for v in betCent.values()]
plt.figure(figsize=(10,10))
nx.draw_networkx(G_symmetric, pos=pos, with_labels=True,
                 node_color=node_color,
                 node_size=node_size )
plt.axis('off');
</code></pre>

<p><img src="output_45_0.png" alt="png" /></p>

<pre><code class="language-python">sorted(betCent, key=betCent.get, reverse=True)[:5]
</code></pre>

<pre><code>['Steven', 'Michelle', 'Laura', 'Marc', 'John']
</code></pre>

<hr />

<h2 id="facebook-case-study">Facebook Case Study</h2>

<p>This dataset consists of &lsquo;circles&rsquo; (or &lsquo;friends lists&rsquo;) from Facebook. Facebook data was collected from survey participants using this Facebook app. The dataset includes node features (profiles), circles, and ego networks.</p>

<p>Facebook data has been anonymized by replacing the Facebook-internal ids for each user with a new value. Also, while feature vectors from this dataset have been provided, the interpretation of those features has been obscured. For instance, where the original dataset may have contained a feature &ldquo;political=Democratic Party&rdquo;, the new data would simply contain &ldquo;political=anonymized feature 1&rdquo;. Thus, using the anonymized data it is possible to determine whether two users have the same political affiliations, but not what their individual political affiliations represent.</p>

<p>Source: <a href="https://snap.stanford.edu/data/egonets-Facebook.html" target="_blank">J. McAuley and J. Leskovec. Learning to Discover Social Circles in Ego Networks. NIPS, 2012</a></p>

<p>Let us start with the Facebook data, for our analysis here we will use Facebook combined ego networks dataset, it contains the aggregated network of ten individuals’ Facebook friends list. You can download the required facebook_combined.txt file from the Stanford University site.</p>

<p>We read in the file and construct the Graph:</p>

<p><a href="https://www.dropbox.com/s/k34phmodh9nsy9r/facebook_combined.txt?dl=0" target="_blank">Download the file</a></p>

<pre><code class="language-python">import pandas as pd

df = pd.read_csv('/Users/jankirenz/Dropbox/Data/facebook_combined.txt')
</code></pre>

<pre><code class="language-python">df.info()
</code></pre>

<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 88233 entries, 0 to 88232
Data columns (total 1 columns):
0 1    88233 non-null object
dtypes: object(1)
memory usage: 689.4+ KB
</code></pre>

<pre><code class="language-python">df.tail()
</code></pre>

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0 1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>88228</th>
      <td>4026 4030</td>
    </tr>
    <tr>
      <th>88229</th>
      <td>4027 4031</td>
    </tr>
    <tr>
      <th>88230</th>
      <td>4027 4032</td>
    </tr>
    <tr>
      <th>88231</th>
      <td>4027 4038</td>
    </tr>
    <tr>
      <th>88232</th>
      <td>4031 4038</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">G_fb = nx.read_edgelist(&quot;/Users/jankirenz/Dropbox/Data/facebook_combined.txt&quot;, create_using = nx.Graph(), nodetype=int)
</code></pre>

<pre><code class="language-python">print(nx.info(G_fb))
</code></pre>

<pre><code>Name: 
Type: Graph
Number of nodes: 4039
Number of edges: 88234
Average degree:  43.6910
</code></pre>

<p>The network consists of 4,039 nodes, connected via 88,234 edges.</p>

<pre><code class="language-python">plt.figure(figsize=(20,20)) 
nx.draw_networkx(G_fb);
</code></pre>

<p>We can also visualize the network such that the node color varies with Degree and node size with Betweenness Centrality. The code to do this is:</p>

<pre><code class="language-python">pos = nx.spring_layout(G_fb)
betCent = nx.betweenness_centrality(G_fb, normalized=True, endpoints=True)
node_color = [20000.0 * G_fb.degree(v) for v in G_fb]
node_size =  [v * 10000 for v in betCent.values()]
plt.figure(figsize=(20,20))
nx.draw_networkx(G_fb, pos=pos, with_labels=False,
                 node_color=node_color,
                 node_size=node_size )
plt.axis('off');
</code></pre>

<p>You can also know the labels of the nodes with the highest betweenness centrality using:</p>

<pre><code class="language-python">sorted(betCent, key=betCent.get, reverse=True)[:5]
</code></pre>

<p>We can see that some nodes are common between Degree Centrality, which is a measure of degree, and Betweenness Centrality which controls the information flow.</p>

<p>It is natural that nodes that are more connected also lie on shortest paths between other nodes. The node 1912 is an important node as it is crucial according to all three centrality measures that we had considered.</p>

<hr />

<hr />

<p>Sources of examples:</p>

<ul>
<li><a href="https://www.datacamp.com/community/tutorials/social-network-analysis-python" target="_blank">Datacamp</a>;</li>
<li><a href="https://aksakalli.github.io/2017/07/17/network-centrality-measures-and-their-visualization.html" target="_blank">Aksakalli, C.</a>,</li>
<li><a href="https://snap.stanford.edu/data/egonets-Facebook.html" target="_blank">McAuley, J. &amp; Leskovec, J.</a></li>
</ul>

    </div>

    



    
      








  





  
  
  
    
  
  
  <div class="media author-card" itemscope itemtype="http://schema.org/Person">
    
      
      <img class="portrait mr-3" src="/authors/jan/avatar_hu1d623008f699678abc0368ff80db1811_316634_250x250_fill_q90_lanczos_center.jpg" itemprop="image" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title" itemprop="name"><a href="/">Jan Kirenz</a></h5>
      <h6 class="card-subtitle">Professor</h6>
      <p class="card-text" itemprop="description">I&rsquo;m a data scientist educator and consultant.</p>
      <ul class="network-icon" aria-hidden="true">
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="/contact" >
              <i class="fas fa-paper-plane"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://github.com/kirenz" target="_blank" rel="noopener">
              <i class="fab fa-github"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://www.xing.com/profile/Jan_Kirenz" target="_blank" rel="noopener">
              <i class="fab fa-xing"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://www.linkedin.com/in/jan-kirenz-01b301a5/" target="_blank" rel="noopener">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>



      
      
    

    

    


  </div>
</article>

      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/css.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/bash.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/js.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/markdown.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/html.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.9ef1b53ee2bde6c7f33b150c6ba4d452.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    <a href="/license/">LICENSE: CC-BY-SA <br> <i class="fab fa-creative-commons fa-2x"></i><i class="fab fa-creative-commons-by fa-2x"></i><i class="fab fa-creative-commons-sa fa-2x"></i> </a><br>
  </p>
  

  <p class="powered-by">
    &copy; Jan Kirenz, 2019 &middot; 

    Made with the <a href="https://cran.r-project.org/" target="_blank" rel="noopener"><i class="fab fa-r-project"></i> </a><a href="https://github.com/rstudio/blogdown" target="_blank" rel="noopener">blogdown</a> package and the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>. Source code from A. Hill available at 
    <a href="https://github.com/rbind/apreshill" target="_blank" rel="noopener"><i class="fas fa-code-branch" style="color:#E13D3D"></i></a>

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
